<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dv.manager">
<title>Arguments from Module Manager • dv.manager</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Arguments from Module Manager">
<meta property="og:description" content="dv.manager">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverted navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dv.manager</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/dv-manager.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Creating apps</h6>
    <a class="dropdown-item" href="../articles/customizing_application.html">Customizing our application</a>
    <a class="dropdown-item" href="../articles/timestamp.html">Add timestamp to app data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developing modules</h6>
    <a class="dropdown-item" href="../articles/developing_module.html">Developing a new module</a>
    <a class="dropdown-item" href="../articles/passing_data.html">Passing data between modules</a>
    <a class="dropdown-item" href="../articles/css_namespace.html">Adding custom CSS styles to a module</a>
    <a class="dropdown-item" href="../articles/logging.html">logging</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>How does it work</h6>
    <a class="dropdown-item" href="../articles/how_does_work.html">How does it work (Technic/Develop)</a>
    <a class="dropdown-item" href="../articles/data_filtering.html">Sidebar filter implementation</a>
    <a class="dropdown-item" href="../articles/arguments_from_module_manager.html">Arguments from Module Manager</a>
    <a class="dropdown-item" href="../articles/data_reloading.html">Data reloading</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/qc.html">Quality Control</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="arguments_from_module_manager_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Arguments from Module Manager</h1>
            
      
      
      <div class="d-none name"><code>arguments_from_module_manager.Rmd</code></div>
    </div>

    
    
<p>When developing a module, we create a wrapper function that returns a list that is used to instantiate a given module inside module manager. Within this list the <code>server</code> is a function with a single parameter provided by module manager when the server function is called. This parameter by convention usually called <code>afmm</code>, an acronym of <strong>a</strong>rguments <strong>f</strong>rom <strong>m</strong>odule <strong>m</strong>anager. <code>afmm</code> is a list with the following entries:</p>
<ol style="list-style-type: decimal">
<li><p><strong>data</strong>: a list of lists of data frames (or of functions that return data frames). Pass-through of the <code>run_app</code> argument by the same name.</p></li>
<li><p><strong>unfiltered_dataset</strong>: a metaReactive list containing the tables inside the selected dataset before filtering them.</p></li>
<li><p><strong>filtered_dataset</strong>: a metaReactive list containing the tables inside the selected dataset after filtering them.</p></li>
<li><p><strong>url_parameters</strong>: a reactive list of the parameters passed in the url.</p></li>
<li><p><strong>dataset_name</strong>: a reactive string containing the name of the selected dataset. (Deprecated)</p></li>
<li>
<p><strong>dataset_metadata</strong>: a list with the following entries:</p>
<ol style="list-style-type: lower-alpha">
<li>
<strong>name</strong>: a reactive string with the name of the selected dataset</li>
<li>
<strong>date_range</strong>: a reactive character vector with two entries earliest and latest modification date in the dataset.</li>
</ol>
</li>
<li><p><strong>module_output</strong>: a function that when called returns a list of all the values returned by the different modules indexed by the module_id.</p></li>
<li><p><strong>module_names</strong>: a non-reactive named list containing as values the names of the module entries as displayed on the tab and as names the ids of the module entries as used by Shiny.</p></li>
<li>
<p><strong>utils</strong>: a list of convenience functions:</p>
<ol style="list-style-type: lower-alpha">
<li>
<strong>switch2mod</strong>: a function that allows switching between tabs programatically.</li>
<li>
<strong>switch2</strong>: <strong>DEPRECATED</strong> a function that allows switching between tabs programatically.</li>
</ol>
</li>
</ol>
<p>Lets see some example recipes to use all these fields.</p>
<p>Firstly, we will declare a simple module that creates a table, and a dataset. These will be the basis for our examples.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Module</span></span>
<span><span class="va">table_ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/dataTableOutput.html" class="external-link">DTOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"table"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">table_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">dataset</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span></span>
<span>    <span class="va">id</span>,</span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">output</span><span class="op">$</span><span class="va">table</span> <span class="op">&lt;-</span> <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/dataTableOutput.html" class="external-link">renderDT</a></span><span class="op">(</span></span>
<span>        <span class="op">{</span></span>
<span>          <span class="fu">dataset</span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">}</span>,</span>
<span>        selection <span class="op">=</span> <span class="st">"single"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level2">
<h2 id="raw-access">Raw access<a class="anchor" aria-label="anchor" href="#raw-access"></a>
</h2>
<div class="section level3">
<h3 id="accessing-the-unfiltered_dataset">Accessing the un/filtered_dataset<a class="anchor" aria-label="anchor" href="#accessing-the-unfiltered_dataset"></a>
</h3>
<p>Below we can see a wrapper that allow us to access the filtered dataset.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod_table</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">table_name</span>, <span class="va">mod_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="va">table_ui</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">table_server</span><span class="op">(</span>id <span class="op">=</span> <span class="va">mod_id</span>, dataset <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="va">afmm</span><span class="op">[[</span><span class="st">"filtered_dataset"</span><span class="op">]</span><span class="op">]</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="va">table_name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">mod_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"D1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adsl <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adsl.html" class="external-link">adsl</a></span>, adae <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adae.html" class="external-link">adae</a></span><span class="op">)</span>,</span>
<span>  <span class="st">"D2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adsl <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adsl.html" class="external-link">adsl</a></span>, adae <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adae.html" class="external-link">adae</a></span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Table adsl"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="st">"adsl"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Table adae"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="st">"adae"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_list</span>,</span>
<span>  module_list <span class="op">=</span> <span class="va">module_list</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">"adsl"</span>,</span>
<span>  filter_key <span class="op">=</span> <span class="st">"USUBJID"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>When creating the module list we can select which of the tables inside the dataset we will access. Nonetheless, this is just a design choice of the module developer. See below another possible example in which we can select either the filtered or unfiltered dataset input by toggling the logical <code>filtered</code> parameter.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod_table</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">table_name</span>, <span class="va">filtered</span> <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">mod_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="va">table_ui</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="va">filtered</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">source</span> <span class="op">&lt;-</span> <span class="st">"filtered_dataset"</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">source</span> <span class="op">&lt;-</span> <span class="st">"unfiltered_dataset"</span></span>
<span>      <span class="op">}</span></span>
<span>      <span class="fu">table_server</span><span class="op">(</span>id <span class="op">=</span> <span class="va">mod_id</span>, dataset <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="va">afmm</span><span class="op">[[</span><span class="va">source</span><span class="op">]</span><span class="op">]</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="va">table_name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">mod_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"D1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adsl <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adsl.html" class="external-link">adsl</a></span>, adae <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adae.html" class="external-link">adae</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Table adsl"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="st">"adsl"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Table adae"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="st">"adae"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_list</span>,</span>
<span>  module_list <span class="op">=</span> <span class="va">module_list</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">"adsl"</span>,</span>
<span>  filter_key <span class="op">=</span> <span class="st">"USUBJID"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>A note on reactives</strong></p>
<p>The call to afmm is included in a reactive, because <code>afmm[["unfiltered_dataset]]</code> and <code>afmm[["filtered_dataset]]</code> are metaReactives, therefore, they can only be accessed inside a reactive environment. Also note the parenthesis resolving the reactive before doing the subsetting. This does not differ from usual reactive programming.</p>
<p><strong>A note on metaReactives</strong> In this example we are using simple reactive to not overwhelm readers with no experience using the <code>shinymeta</code> package. To make use of the export functionality provided in modulemanager, this reactive should be replaced by <code><a href="https://rstudio.github.io/shinymeta/reference/metaReactive.html" class="external-link">shinymeta::metaReactive</a></code>. Please see <code>vignette("export_func_dev")</code> for a longer explanation on metaReactivity that escapes the scope of this vignette.</p>
</div>
<div class="section level3">
<h3 id="accessing-dataset_name">Accessing dataset_name<a class="anchor" aria-label="anchor" href="#accessing-dataset_name"></a>
</h3>
<p>Find below an example on how to access the dataset_name</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset_name_UI</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span> <span class="co"># nolint</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"text"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">dataset_name_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">dataset_name</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span></span>
<span>    <span class="va">id</span>,</span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">output</span><span class="op">$</span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="fu">dataset_name</span><span class="op">(</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">mod_dataset_name</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">module_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="va">dataset_name_UI</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">dataset_name_server</span><span class="op">(</span><span class="va">module_id</span>, <span class="va">afmm</span><span class="op">[[</span><span class="st">"dataset_metadata"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">module_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_list</span>,</span>
<span>  module_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"Dataset Name"</span> <span class="op">=</span> <span class="fu">mod_dataset_name</span><span class="op">(</span><span class="st">"mod1"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">"adsl"</span>,</span>
<span>  filter_key <span class="op">=</span> <span class="st">"USUBJID"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note how in this case we did not manipulate the dataset_name and therefore it is not included in a reactive call, as it can be passed “as is”.</p>
</div>
<div class="section level3">
<h3 id="accessing-the-module_output">Accessing the module_output<a class="anchor" aria-label="anchor" href="#accessing-the-module_output"></a>
</h3>
<p><code>afmm[["module_output"]]</code> behavior slightly differs from the other entries in the <code>afmm</code> list. In this case it is a function that when called returns a list containing all the values returned by the different modules indexed by the <code>module_id</code>. Returning a function call instead of a list is based on the fact that we are passing as an argument something that is not yet created, as we are creating the list at the same time we are calling the server functions.</p>
<p>This also forces us to wrap all <code>afmm[["module_output"]]</code> calls in a metaReactive/reactive call, regardless of the object used being a reactive or not, as we need to delay the evaluation until the app has started.</p>
<p>Lets see an example of this. In this case we have created a module that receives a value and displays it. In this case we will receive that value from another module.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">com_UI</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">choices</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, <span class="va">message</span><span class="op">)</span> <span class="op">{</span> <span class="co"># nolint</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectizeInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"select"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Select a number"</span>, choices <span class="op">=</span> <span class="va">choices</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="va">message</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"output"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">com_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">value</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">module</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="fu">value</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">select</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span></span>
<span>      <span class="va">id</span>,</span>
<span>      <span class="va">module</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">mod_com_test</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">choices</span>, <span class="va">message</span>, <span class="va">value</span>, <span class="va">mod_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">com_UI</span><span class="op">(</span><span class="va">id</span>, <span class="va">choices</span>, <span class="va">message</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">com_server</span><span class="op">(</span>id <span class="op">=</span> <span class="va">mod_id</span>, value <span class="op">=</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="va">afmm</span><span class="op">[[</span><span class="st">"module_output"</span><span class="op">]</span><span class="op">]</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="va">value</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">mod_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  module_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"Send and Receive 1"</span> <span class="op">=</span> <span class="fu">mod_com_test</span><span class="op">(</span></span>
<span>      choices <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>      message <span class="op">=</span> <span class="st">"The other module has selected"</span>,</span>
<span>      value <span class="op">=</span> <span class="st">"mod_2"</span>,</span>
<span>      mod_id <span class="op">=</span> <span class="st">"mod_1"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="st">"Send and Receive 2"</span> <span class="op">=</span> <span class="fu">mod_com_test</span><span class="op">(</span></span>
<span>      choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>,</span>
<span>      message <span class="op">=</span> <span class="st">"The other module has selected"</span>,</span>
<span>      value <span class="op">=</span> <span class="st">"mod_1"</span>,</span>
<span>      mod_id <span class="op">=</span> <span class="st">"mod_2"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>See how, we wrap everything in a reactive, make the call to module_output and then resolve the reactive once we have subsetted. Note that it is the module/app developer how to treat that output value.</p>
</div>
<div class="section level3">
<h3 id="accessing-util-functions">Accessing util functions<a class="anchor" aria-label="anchor" href="#accessing-util-functions"></a>
</h3>
<p>The <code>utils</code> field contains a list of utility functions for actions that need module manager. In this case the access is the simplest of all cases as it is just a list of functions.</p>
<div class="section level4">
<h4 id="switch2mod">switch2mod<a class="anchor" aria-label="anchor" href="#switch2mod"></a>
</h4>
<p><code>switch2</code> allows switching from tab to another in a programmatic manner.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">########### Switch module</span></span>
<span></span>
<span><span class="va">switch_UI</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">name</span><span class="op">)</span> <span class="op">{</span> <span class="co"># nolint</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h1</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html" class="external-link">actionButton</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"switch"</span><span class="op">)</span>, <span class="st">"Switch tab"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">switch_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">selected</span>, <span class="va">switch_func</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span></span>
<span>    <span class="va">id</span>,</span>
<span>    <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">switch</span>, <span class="op">{</span></span>
<span>        <span class="fu">switch_func</span><span class="op">(</span><span class="va">selected</span><span class="op">)</span></span>
<span>      <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">mod_switch</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">name</span>, <span class="va">selected</span>, <span class="va">module_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">module_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/mod_switch.html">switch_UI</a></span><span class="op">(</span><span class="va">module_id</span>, <span class="va">name</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/mod_switch.html">switch_server</a></span><span class="op">(</span><span class="va">module_id</span>, <span class="va">selected</span>, <span class="va">afmm</span><span class="op">[[</span><span class="st">"utils"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"switch2mod"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">module_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  module_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"Mod 1"</span> <span class="op">=</span> <span class="fu"><a href="../reference/mod_switch.html">mod_switch</a></span><span class="op">(</span><span class="st">"Mod 1"</span>, <span class="st">"mod2"</span>, <span class="st">"mod1"</span><span class="op">)</span>,</span>
<span>    <span class="st">"Mod 2"</span> <span class="op">=</span> <span class="fu"><a href="../reference/mod_switch.html">mod_switch</a></span><span class="op">(</span><span class="st">"Mod 2"</span>, <span class="st">"mod1"</span>, <span class="st">"mod2"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">""</span>,</span>
<span>  filter_key <span class="op">=</span> <span class="st">"USUBJID"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Notice that as opposed to its predecessor <code>switch2</code>, <code>switch2mod</code> uses the module_id and not the name of the module tabs.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="dispatchers">Dispatchers<a class="anchor" aria-label="anchor" href="#dispatchers"></a>
</h2>
<p>Module manager include a couple of convenience functions that deal with all the nuances described providing a uniform of accessing all fields above.</p>
<p>Lets see it with our first example.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod_table</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span>, <span class="va">mod_id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ui <span class="op">=</span> <span class="va">table_ui</span>,</span>
<span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">afmm</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu">table_server</span><span class="op">(</span>id <span class="op">=</span> <span class="va">mod_id</span>, dataset <span class="op">=</span> <span class="fu"><a href="../reference/mm_resolve_dispatcher.html">mm_resolve_dispatcher</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">afmm</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    module_id <span class="op">=</span> <span class="va">mod_id</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">mod</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"D1"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adsl <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adsl.html" class="external-link">adsl</a></span>, adae <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adae.html" class="external-link">adae</a></span><span class="op">)</span>,</span>
<span>  <span class="st">"D2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>adsl <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adsl.html" class="external-link">adsl</a></span>, adae <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/pharmaverseadam/man/adae.html" class="external-link">adae</a></span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Table adsl"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"filtered_dataset"</span>, <span class="st">"adsl"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"Table adae"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_2"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"filtered_dataset"</span>, <span class="st">"adsl"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/run_app.html">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_list</span>,</span>
<span>  module_list <span class="op">=</span> <span class="va">module_list</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">"adsl"</span>,</span>
<span>  filter_key <span class="op">=</span> <span class="st">"USUBJID"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In this case we let <code>mm_resolve_dispatcher</code> take care of all the nuances, including reactive or metareactive nature of the inputs, for us.</p>
<p>This also allows to quickly change the source without modifying the wrapper function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Table adsl"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_1"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"unfiltered_dataset"</span>, <span class="st">"adsl"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"Table adae"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_2"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"module_output"</span>, <span class="st">"mod_return_table"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"Return table"</span> <span class="op">=</span> <span class="fu">mod_return_table</span><span class="op">(</span><span class="va">...</span>, mod_id <span class="op">=</span> <span class="st">"mod_return_table"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Table independent data"</span> <span class="op">=</span> <span class="fu">mod_table</span><span class="op">(</span>mod_id <span class="op">=</span> <span class="st">"mod_indp"</span>, <span class="va">mtcars</span><span class="op">)</span>,</span>
<span><span class="op">)</span></span></code></pre></div>
<p>In the above example we can quickly change the source just by changing the first parameter of the dispatcher. Or even pass an argument non related to <code>afmm</code> as <code>mm_resolve_dispatcher</code> will ignore objects that do not come from an <code>mm_dispatch</code> function.</p>
<p>This dispatcher also works for <code>utils</code> given the proper adjustments in the wrapper:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Mod 1"</span> <span class="op">=</span> <span class="fu"><a href="../reference/mod_switch.html">mod_switch</a></span><span class="op">(</span><span class="st">"Mod 1"</span>, <span class="st">"Mod 2"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"utils"</span>, <span class="st">"switch2"</span><span class="op">)</span>, <span class="st">"mod1"</span><span class="op">)</span>,</span>
<span>  <span class="st">"Mod 2"</span> <span class="op">=</span> <span class="fu"><a href="../reference/mod_switch.html">mod_switch</a></span><span class="op">(</span><span class="st">"Mod 2"</span>, <span class="st">"Mod 1"</span>, <span class="fu"><a href="../reference/mm_dispatch.html">mm_dispatch</a></span><span class="op">(</span><span class="st">"utils"</span>, <span class="st">"switch2"</span><span class="op">)</span>, <span class="st">"mod2"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Boehringer-Ingelheim Pharma GmbH &amp; Co.KG, Sorin Voicu, Luis Morís Fernández.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
